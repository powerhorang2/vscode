<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2차원 배열의 활용</title>
    <!--
        1. 학생 2차원 배열의 정보를 출력하시오.
        2. 총점, 평균(소숫점 2번째자리)를 기말고사 뒤에 출력하시오.
        3. table로 출력하시오.
    -->
    <style>
        .date { border: 1px solid black; width: 700px; margin: 20px auto; }
        h3 { text-align: center;}
        p { text-align: center; }
        table { border: 1px solid black; border-collapse: collapse; margin: 50px auto; }
        th,td { border: 1px solid black; width: 115px; height: 40px; }
        td { text-align: center; }
        thead,tfoot { background: linear-gradient( lightgreen, yellow );}
    </style>
</head>
<body>
    <script>
        document.write("<div class='date'>");
        document.write("<h3>학생 정보</h3>");
        var student = new Array(
            Array("이익준", "컴공", 88, 76), // 이름, 전공, 중간, 기말
            Array("양석형", "수학", 70, 83),
            Array("채송화", "물리", 92, 95),
            Array("안정원", "전자", 85, 92),
            Array("김준완", "기계", 97, 88),
        );
        var myName = "";
        var cls = "";
        var score1 = 0;
        var score2 = 0;
        var sum = 0;
        var ave = 0;
        for(var i=0; i<student.length; i++) {
                myName = student[i][0];
                cls = student[i][1];
                score1 = student[i][2];
                score2 = student[i][3];
                sum = score1 + score2;
                ave = (sum / 2).toFixed(2);

                document.write("<p>이름 : " + myName);
                document.write(", 전공 : " + cls);
                document.write(", 중간 : " + score1);
                document.write(", 기말 : " + score2);
                document.write(", 총점 : " + sum);
                document.write(", 평균 : " + ave + "</p>");

                
                myName = "";
                cls = "";
                score1 = 0;
                score2 = 0;
                sum = 0;
                ave = 0;
        }
        document.write("</div>");
    </script>
    <table>
        <colgroup>
            <col style="background: linear-gradient(yellow, lightgreen);">
        </colgroup>   
        <script>
        var title = ["이름", "전공", "중간", "기말", "총점", "평균"];
        
        document.write("<thead><tr>");
        for(var i=0; i<title.length; i++) {
            document.write("<th>" + title[i] + "</th>");
        }
        document.write("</tr></thead>");
        var student = new Array(
            Array("이익준", "컴공", 88, 76), // 이름, 전공, 중간, 기말
            Array("양석형", "수학", 70, 83),
            Array("채송화", "물리", 92, 95),
            Array("안정원", "전자", 85, 92),
            Array("김준완", "기계", 97, 88),
            Array("황시목", "법학과", 88, 76),
        );
        
        var myName = "";
        var cls = "";
        var score1 = 0;
        var score2 = 0;
        var sum = 0;
        var ave = 0;
        var aSum = 0;
        var aveSum = 0;
        var aAve = 0;
        var score1Sum = 0;
        var score2Sum = 0;
        
        for(var i=0; i<student.length; i++) {

                sum = student[i][2] + student[i][3];
                ave = (sum / 2).toFixed(2);
                
                document.write("<tr>");
                for(var z=0; z<student[i].length; z++) {
                    document.write("<td>"+student[i][z]+"</td>");
                }
                document.write("<td>" + sum + "</td>");
                document.write("<td>" + ave + "</td>");
                document.write("</tr>");
                aSum += sum;
                aveSum += Number(ave);
                score1Sum += student[i][2];
                score2Sum += student[i][3];
                sum = 0;
                ave = 0;
        }
        aAve = aveSum / student.length;
        console.log(aAve);
        document.write("<tfoot>");
        document.write("<tr>");
        document.write("<td colspan='2'>총합 / 평균</td>");
        document.write("<td>" + score1Sum + "</td>");
        document.write("<td>" + score2Sum + "</td>");
        document.write("<td>" + aSum + "</td>");
        document.write("<td>" + aAve.toFixed(2) + "</td>");
        document.write("</tr>");
        document.write("</tfoot>");
        </script>
    </table>
</body>
</html>